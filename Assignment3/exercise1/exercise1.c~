#include <stdio.h>

int* create_4mb_array() {
    const int size = 4194304;
    char array[size] ;
    int i = 0;
    for (i = 0; i < size; i++) {
	array[i] = '\0';
    }
    char *p = array;
    return p;
}

int main(void) {
    create_4mb_array() ;
    unsigned char* p =(unsigned char*) create_4mb_array() ;
    magic_function() ;
    int i;
    int bytes = 0 ;
    for (i = 0; i < size; i++) {
	if (*(p+i) != '\0') { 	
	    bytes ++;
	}
    }
    printf("magic_function uses %d bytes.\n", bytes) ;
}

